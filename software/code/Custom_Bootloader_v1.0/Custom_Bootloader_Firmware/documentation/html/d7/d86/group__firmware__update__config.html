<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MTKATR001 Bootloader Firmware: Firmware Update Configurations sub-module</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MTKATR001 Bootloader Firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Firmware Update Configurations sub-module<div class="ingroups"><a class="el" href="../../dd/dff/group__bl__side__etx__ota.html">Firmware Update module</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>This sub-module provides the functions required to enable the firmware_update to be able to store and retrieve the Firmware Update Configurations in or from our MCU/MPU's Flash Memory respectively.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d98/structfirmware__update__config__data__t.html">firmware_update_config_data_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Firmware Update Configurations Data parameters structure. This contains all the fields of the data that will be managed by the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> .  <a href="../../d7/d98/structfirmware__update__config__data__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d64/structfirmware__update__config__flags__t.html">firmware_update_config_flags_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Firmware Update Configurations Flags parameters structure. This contains all the fields needed for the flags used by the Firmware Update Configurations Blocks parameter structure (i.e., <a class="el" href="../../df/d8a/structfirmware__update__config__t.html">firmware_update_config_t</a> ).  <a href="../../d6/d64/structfirmware__update__config__flags__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8a/structfirmware__update__config__t.html">firmware_update_config_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Firmware Update Configurations Blocks parameters structure. This contains all the fields needed to write/read/erase the Firmware Update Configurations Blocks.  <a href="../../df/d8a/structfirmware__update__config__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa84a23941abefcd4c54370878ba058ba"><td class="memItemLeft" align="right" valign="top"><a id="gaa84a23941abefcd4c54370878ba058ba" name="gaa84a23941abefcd4c54370878ba058ba"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DATA_BLOCK_8BIT_ERASED_VALUE</b>&#160;&#160;&#160;(0xFF)</td></tr>
<tr class="memdesc:gaa84a23941abefcd4c54370878ba058ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Designated value to indicate that a certain 8-bit field value of the <a class="el" href="../../d7/d98/structfirmware__update__config__data__t.html">firmware_update_config_data_t</a> structure has either been erased or that there is no data in it. <br /></td></tr>
<tr class="separator:gaa84a23941abefcd4c54370878ba058ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac938877b21471a2f7b499aeb1eb64746"><td class="memItemLeft" align="right" valign="top"><a id="gac938877b21471a2f7b499aeb1eb64746" name="gac938877b21471a2f7b499aeb1eb64746"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DATA_BLOCK_32BIT_ERASED_VALUE</b>&#160;&#160;&#160;(0xFFFFFFFF)</td></tr>
<tr class="memdesc:gac938877b21471a2f7b499aeb1eb64746"><td class="mdescLeft">&#160;</td><td class="mdescRight">Designated value to indicate that a certain 32-bit field value of the <a class="el" href="../../d7/d98/structfirmware__update__config__data__t.html">firmware_update_config_data_t</a> structure has either been erased or that there is no data in it. <br /></td></tr>
<tr class="separator:gac938877b21471a2f7b499aeb1eb64746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa77d3c529c695bcd64683433db38559a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d86/group__firmware__update__config.html#gaa77d3c529c695bcd64683433db38559a">FIRMWARE_UPDATE_CONFIG_PAGE_1_START_ADDR</a>&#160;&#160;&#160;(FIRMWARE_UPDATE_CONFIG_START_PAGE * FW_UPDT_CONFIG_PAGE_SIZE/2 + FLASH_START_ADDR)</td></tr>
<tr class="memdesc:gaa77d3c529c695bcd64683433db38559a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Designated Flash Memory address for the start of the Firmware Update Configurations page 1.  <br /></td></tr>
<tr class="separator:gaa77d3c529c695bcd64683433db38559a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3daabec824c8cbc5db48a7e0a3a321d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3daabec824c8cbc5db48a7e0a3a321d0">FIRMWARE_UPDATE_CONFIG_PAGE_2_START_ADDR</a>&#160;&#160;&#160;(<a class="el" href="../../d7/d86/group__firmware__update__config.html#gaa77d3c529c695bcd64683433db38559a">FIRMWARE_UPDATE_CONFIG_PAGE_1_START_ADDR</a> + FW_UPDT_CONFIG_PAGE_SIZE)</td></tr>
<tr class="memdesc:ga3daabec824c8cbc5db48a7e0a3a321d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Designated Flash Memory address for the start of Firmware Update Configurations page 2.  <br /></td></tr>
<tr class="separator:ga3daabec824c8cbc5db48a7e0a3a321d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga34381b2d22c49d3df8dabd57207699a3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga34381b2d22c49d3df8dabd57207699a3">FIRMWARE_UPDATE_CONFIG_START_ADDR</a>&#160;&#160;&#160;(<a class="el" href="../../d7/d86/group__firmware__update__config.html#gaa77d3c529c695bcd64683433db38559a">FIRMWARE_UPDATE_CONFIG_PAGE_1_START_ADDR</a>)</td></tr>
<tr class="memdesc:ga34381b2d22c49d3df8dabd57207699a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Designated start Flash Memory address for the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> .  <br /></td></tr>
<tr class="separator:ga34381b2d22c49d3df8dabd57207699a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8e36314fceab25cba80fb8acd59b689"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d86/group__firmware__update__config.html#gad8e36314fceab25cba80fb8acd59b689">FIRMWARE_UPDATE_CONFIG_END_ADDR_PLUS_ONE</a>&#160;&#160;&#160;(<a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3daabec824c8cbc5db48a7e0a3a321d0">FIRMWARE_UPDATE_CONFIG_PAGE_2_START_ADDR</a> + FW_UPDT_CONFIG_PAGE_SIZE)</td></tr>
<tr class="memdesc:gad8e36314fceab25cba80fb8acd59b689"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flash Memory address at which the start of the first page after the ones designated for the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> begins.  <br /></td></tr>
<tr class="separator:gad8e36314fceab25cba80fb8acd59b689"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9f2a3ee72f0310fd7c9a22f763b51aa"><td class="memItemLeft" align="right" valign="top"><a id="gad9f2a3ee72f0310fd7c9a22f763b51aa" name="gad9f2a3ee72f0310fd7c9a22f763b51aa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FLASH_BLOCK_NOT_ERASED</b>&#160;&#160;&#160;(0x00)</td></tr>
<tr class="memdesc:gad9f2a3ee72f0310fd7c9a22f763b51aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Designated value to indicate that a Firmware Update Configurations block has not been erased via <a class="el" href="../../d6/d64/structfirmware__update__config__flags__t.html#a0d0e9c7724b629452433a4d6d1e03ac9">firmware_update_config_flags_t::is_erased</a> . <br /></td></tr>
<tr class="separator:gad9f2a3ee72f0310fd7c9a22f763b51aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f516b2bbd5a9bc09426698a94187647"><td class="memItemLeft" align="right" valign="top"><a id="ga7f516b2bbd5a9bc09426698a94187647" name="ga7f516b2bbd5a9bc09426698a94187647"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FLASH_BLOCK_ERASED</b>&#160;&#160;&#160;(0xFF)</td></tr>
<tr class="memdesc:ga7f516b2bbd5a9bc09426698a94187647"><td class="mdescLeft">&#160;</td><td class="mdescRight">Designated value to indicate that a Firmware Update Configurations block has been erased via <a class="el" href="../../d6/d64/structfirmware__update__config__flags__t.html#a0d0e9c7724b629452433a4d6d1e03ac9">firmware_update_config_flags_t::is_erased</a> . <br /></td></tr>
<tr class="separator:ga7f516b2bbd5a9bc09426698a94187647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2abefff20a5934e66a2ec4a1ed1c67dc"><td class="memItemLeft" align="right" valign="top"><a id="ga2abefff20a5934e66a2ec4a1ed1c67dc" name="ga2abefff20a5934e66a2ec4a1ed1c67dc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DATA_BLOCK_16BIT_ERASED_VALUE</b>&#160;&#160;&#160;(0xFFFF)</td></tr>
<tr class="memdesc:ga2abefff20a5934e66a2ec4a1ed1c67dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Designated value to indicate that a certain 16-bit field value of the <a class="el" href="../../d7/d98/structfirmware__update__config__data__t.html">firmware_update_config_data_t</a> structure has either been erased or that there is no data in it. <br /></td></tr>
<tr class="separator:ga2abefff20a5934e66a2ec4a1ed1c67dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf57336acae049c7b7d0bc54bb25e4346"><td class="memItemLeft" align="right" valign="top"><a id="gaf57336acae049c7b7d0bc54bb25e4346" name="gaf57336acae049c7b7d0bc54bb25e4346"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FIRMWARE_UPDATE_CONFIG_DATA_SIZE</b>&#160;&#160;&#160;(sizeof(<a class="el" href="../../d7/d98/structfirmware__update__config__data__t.html">firmware_update_config_data_t</a>))</td></tr>
<tr class="memdesc:gaf57336acae049c7b7d0bc54bb25e4346"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length in bytes of the <a class="el" href="../../d7/d98/structfirmware__update__config__data__t.html">firmware_update_config_data_t</a> struct. <br /></td></tr>
<tr class="separator:gaf57336acae049c7b7d0bc54bb25e4346"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga3c090c80e3e49b7cdeff014206874cbf"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> { <br />
&#160;&#160;<a class="el" href="../../d7/d86/group__firmware__update__config.html#gga3c090c80e3e49b7cdeff014206874cbfa8a0d939625e2c0f207aee3ca2cfb3ac8">FIRM_UPDT_CONF_EC_OK</a> = 0U
, <a class="el" href="../../d7/d86/group__firmware__update__config.html#gga3c090c80e3e49b7cdeff014206874cbfa2294ca4263545942eb6b6a18f0316399">FIRM_UPDT_CONF_EC_NR</a> = 2U
, <a class="el" href="../../d7/d86/group__firmware__update__config.html#gga3c090c80e3e49b7cdeff014206874cbfa72de2f060039a37d2686554afc5fa9ed">FIRM_UPDT_CONF_EC_ERR</a> = 4U
, <a class="el" href="../../d7/d86/group__firmware__update__config.html#gga3c090c80e3e49b7cdeff014206874cbfa6e2fd6cd509ee5afd15c84c22bffd9e7">FIRM_UPDT_CONF_EC_CRPT</a> = 5U
, <br />
&#160;&#160;<a class="el" href="../../d7/d86/group__firmware__update__config.html#gga3c090c80e3e49b7cdeff014206874cbfa64488f27a876c3284ff08d4bb2be1322">FIRM_UPDT_CONF_EC_NO_DATA</a> = 6U
<br />
 }</td></tr>
<tr class="memdesc:ga3c090c80e3e49b7cdeff014206874cbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Firmware Update Configurations Exception Codes.  <a href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">More...</a><br /></td></tr>
<tr class="separator:ga3c090c80e3e49b7cdeff014206874cbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga89e37f881d023e13ae515fd2c98315cd"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga89e37f881d023e13ae515fd2c98315cd">IsBlFwStoredInAppFw_Status</a> { <a class="el" href="../../d7/d86/group__firmware__update__config.html#gga89e37f881d023e13ae515fd2c98315cdaccfa1f7f6152d025601ebad5aa8ca9b1">BT_FW_NOT_STORED_IN_APP_FW</a> = 0U
, <a class="el" href="../../d7/d86/group__firmware__update__config.html#gga89e37f881d023e13ae515fd2c98315cdae4a8ea76658cc5c7ea5ffc6e50f81f1c">BT_FW_STORED_IN_APP_FW</a> = 1U
 }</td></tr>
<tr class="memdesc:ga89e37f881d023e13ae515fd2c98315cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is Bootloader Firmware Image Stored in Application Firmware Image Status.  <a href="../../d7/d86/group__firmware__update__config.html#ga89e37f881d023e13ae515fd2c98315cd">More...</a><br /></td></tr>
<tr class="separator:ga89e37f881d023e13ae515fd2c98315cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae154fb36b367f3a64edf3115cce644f1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d86/group__firmware__update__config.html#gae154fb36b367f3a64edf3115cce644f1">IsBlFwPending_Status</a> { <a class="el" href="../../d7/d86/group__firmware__update__config.html#ggae154fb36b367f3a64edf3115cce644f1a040640f8c62c6c21aaf6a484af39dad7">NOT_PENDING</a> = 0U
, <a class="el" href="../../d7/d86/group__firmware__update__config.html#ggae154fb36b367f3a64edf3115cce644f1a04c28260a0edeab076dd1e3404df0cc6">IS_PENDING</a> = 1U
 }</td></tr>
<tr class="memdesc:gae154fb36b367f3a64edf3115cce644f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is Bootloader Firmware Install Pending Status.  <a href="../../d7/d86/group__firmware__update__config.html#gae154fb36b367f3a64edf3115cce644f1">More...</a><br /></td></tr>
<tr class="separator:gae154fb36b367f3a64edf3115cce644f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab021a0e06bed18957df92a4d4c17853e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d86/group__firmware__update__config.html#gab021a0e06bed18957df92a4d4c17853e">firmware_update_configurations_init</a> ()</td></tr>
<tr class="memdesc:gab021a0e06bed18957df92a4d4c17853e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cycles through the Flash Memory pages that have been designated to the Firmware Update Configurations until a Firmware Update Configurations Block is found to have been erased. Subsequently, it identifies the page number of the Firmware Update Configurations that should be erased next and then requests to erase it but only in the case that erasing a page from it is required right now.  <br /></td></tr>
<tr class="separator:gab021a0e06bed18957df92a4d4c17853e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e41d7249a4e931e254bc9f1d38f31d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga9e41d7249a4e931e254bc9f1d38f31d6">firmware_update_configurations_read</a> (<a class="el" href="../../d7/d98/structfirmware__update__config__data__t.html">firmware_update_config_data_t</a> *p_data)</td></tr>
<tr class="memdesc:ga9e41d7249a4e931e254bc9f1d38f31d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the latest Firmware Update Configurations data that has been written into the designated Flash Memory pages of the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> sub-module.  <br /></td></tr>
<tr class="separator:ga9e41d7249a4e931e254bc9f1d38f31d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga042c791006d809c4e74751c61c6b3eb6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga042c791006d809c4e74751c61c6b3eb6">firmware_update_configurations_write</a> (<a class="el" href="../../d7/d98/structfirmware__update__config__data__t.html">firmware_update_config_data_t</a> *p_data)</td></tr>
<tr class="memdesc:ga042c791006d809c4e74751c61c6b3eb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a desired Firmware Update Configurations block data into the designated Flash Memory pages of the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> sub-module.  <br /></td></tr>
<tr class="separator:ga042c791006d809c4e74751c61c6b3eb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9120a0a92e4d9a85f59ef9494f268686"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga9120a0a92e4d9a85f59ef9494f268686">restore_firm_updt_config_flash_memory</a> ()</td></tr>
<tr class="memdesc:ga9120a0a92e4d9a85f59ef9494f268686"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erases all the designated Flash Memory pages of the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> sub-module to restore them to their original factory form.  <br /></td></tr>
<tr class="separator:ga9120a0a92e4d9a85f59ef9494f268686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga393111d202f08801e2b3bcc81fc2b045"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga393111d202f08801e2b3bcc81fc2b045">prep_page_swap</a> ()</td></tr>
<tr class="memdesc:ga393111d202f08801e2b3bcc81fc2b045"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identifies if there is a Firmware Update Configurations page that is currently fully occupied with data while having already written data into the other page, such that if that is the case, then an instruction for erasing the Firmware Update Configurations page that is full will be send. Otherwise, this function does nothing.  <br /></td></tr>
<tr class="separator:ga393111d202f08801e2b3bcc81fc2b045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga917ec3add16d4ceaa7ed8dec5bdb6ca4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga917ec3add16d4ceaa7ed8dec5bdb6ca4">page_erase</a> (uint32_t *page_start_addr)</td></tr>
<tr class="memdesc:ga917ec3add16d4ceaa7ed8dec5bdb6ca4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erases a desired Flash Memory page.  <br /></td></tr>
<tr class="separator:ga917ec3add16d4ceaa7ed8dec5bdb6ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b71ba3eaef4150dbdeb879583392f34"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga0b71ba3eaef4150dbdeb879583392f34">HAL_ret_handler</a> (HAL_StatusTypeDef HAL_status)</td></tr>
<tr class="memdesc:ga0b71ba3eaef4150dbdeb879583392f34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the corresponding <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> value depending on the given HAL_StatusTypeDef value.  <br /></td></tr>
<tr class="separator:ga0b71ba3eaef4150dbdeb879583392f34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga6222ac1041077c1cb3d1a9ed90a990df"><td class="memItemLeft" align="right" valign="top"><a id="ga6222ac1041077c1cb3d1a9ed90a990df" name="ga6222ac1041077c1cb3d1a9ed90a990df"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>FIRMWARE_UPDATE_CONFIG_BLOCK_SIZE</b> = sizeof(<a class="el" href="../../df/d8a/structfirmware__update__config__t.html">firmware_update_config_t</a>)/4</td></tr>
<tr class="memdesc:ga6222ac1041077c1cb3d1a9ed90a990df"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size in words (i.e., in 4 bytes) of one Firmware Update Configurations block. <br /></td></tr>
<tr class="separator:ga6222ac1041077c1cb3d1a9ed90a990df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacdc32d96919d69ee2f1df5f27892a9b3"><td class="memItemLeft" align="right" valign="top"><a id="gacdc32d96919d69ee2f1df5f27892a9b3" name="gacdc32d96919d69ee2f1df5f27892a9b3"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>FIRMWARE_UPDATE_CONFIG_BLOCK_SIZE_WITHOUT_CRC</b> = <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga6222ac1041077c1cb3d1a9ed90a990df">FIRMWARE_UPDATE_CONFIG_BLOCK_SIZE</a>*4 - sizeof(uint32_t)</td></tr>
<tr class="memdesc:gacdc32d96919d69ee2f1df5f27892a9b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size in bytes of one Firmware Update Configurations block but without the space used for the 32-bit CRC field. <br /></td></tr>
<tr class="separator:gacdc32d96919d69ee2f1df5f27892a9b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4493d909e38c669637923c7d138c5164"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../df/d8a/structfirmware__update__config__t.html">firmware_update_config_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga4493d909e38c669637923c7d138c5164">p_most_recent_val</a> = NULL</td></tr>
<tr class="memdesc:ga4493d909e38c669637923c7d138c5164"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the Firmware Update Configurations Block containing the most recently written Firmware Update Configurations value.  <br /></td></tr>
<tr class="separator:ga4493d909e38c669637923c7d138c5164"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This sub-module provides the functions required to enable the firmware_update to be able to store and retrieve the Firmware Update Configurations in or from our MCU/MPU's Flash Memory respectively. </p>
<p>The strategy followed by this sub-module is to use our MCU/MPU's Flash Memory with a modified method of <a href="http://ww1.microchip.com/downloads/en/appnotes/01095c.pdf">MICROCHIP's Emulating Data EEPROM</a>, where the next data to be written will be made linearly in the currently designated Flash Memory addresses and in a very simple and straightforward way. The way the data will be written is that each time there is a new data to write into the Flash Memory designated pages, this data will be written right after the most recently written data. Whenever we write into the last available address of the designated Flash Memory pages, the program will continue writing on the initial address. For this to work out, whenever one Firmware Update Configurations Page is full of data (which differs from a Flash Memory and where 1 Firmware Update Configurations Page is actually compoased of 2 Flash Memory pages), then the program will jump from one Firmware Update Configurations page to another and the previous page that was left full of written data will be erased. However, this will only happen after one of the two Firmware Update Configurations Pages is full of data and if this sub-module has already written data into the other one. As a result, this sub-module will allow the programmer to store and persist Firmware Update Configuration settings into our MCU/MPU's Flash Memory but by also contributing to preserving the lifetime of the Flash Memory.</p>
<dl class="section note"><dt>Note</dt><dd>The code from this sub-module contemplates/expects the programmer to have fully erased the Flash Memory of the MCU/MPU only for the very first time that this library is used in that device. If this is true, then it is safe to use this library. However, if this is not the case, then the code from this sub-module might have undefined behaviors unless the programmer guarantees that the Flash Memory pages dedicated to this sub-module have been fully erased for the very first time that this library's/sub-module's code is used in that MCU/MPU.</dd>
<dd>
While this code was inspired from a code that I, Cesar Miranda Meza, worked when I was employed at Acuity Brands during 2023, it is simply that: inspired from. This is because this code has been made very differently with several original concepts and ideas that Cesar Miranda Meza came out with after having worked at that company and that is also used for a very different purpose/application than the one used at Acuity Brands for their version "of this code".</dd></dl>
<p>The following is a code example for initializing this sub-module and also for showing how to read and write data in it. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d7/d21/firmware__update__config_8h.html">firmware_update_config.h</a>&quot;</span> <span class="comment">// We call the library that holds the Firmware Update Configurations sub-module.</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="../../d3/dab/group__main.html#ga840291bc02cba5474a4cb46a9b9566fe">main</a>()</div>
<div class="line">{</div>
<div class="line">   <a class="code hl_enumeration" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> ret; <span class="comment">// Local variable used to hold the exception code values returned by functions of the Firmware Update Configurations sub-module.</span></div>
<div class="line">   <a class="code hl_struct" href="../../d7/d98/structfirmware__update__config__data__t.html">firmware_update_config_data_t</a> p_data; <span class="comment">//Local struct used to either pass to it the data that we want to write into the designated Flash Memory pages of the @ref firmware_update_config sub-module or, in the case of a read request, where that sub-module will write the latest data contained in the sub-module.</span></div>
<div class="line"> </div>
<div class="line">   <span class="comment">// We initialize the Firmware Update Configurations sub-module. This should only be called once in the lifetime of the program.</span></div>
<div class="line">   ret = <a class="code hl_function" href="../../d7/d86/group__firmware__update__config.html#gab021a0e06bed18957df92a4d4c17853e">firmware_update_configurations_init</a>();</div>
<div class="line">   <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../d7/d86/group__firmware__update__config.html#gga3c090c80e3e49b7cdeff014206874cbfa8a0d939625e2c0f207aee3ca2cfb3ac8">FIRM_UPDT_CONF_EC_OK</a>)</div>
<div class="line">   {</div>
<div class="line">    printf(<span class="stringliteral">&quot;ERROR CODE %d: The Firmware Update Configurations sub-module could not be initialized...\r\n&quot;</span>, ret);</div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">   }</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// We read the latest data that has been written into the Flash Memory designated to the Firmware Update Configurations sub-module. This can be done as many times as desired during the lifetime of the program.</span></div>
<div class="line">   ret = <a class="code hl_function" href="../../d7/d86/group__firmware__update__config.html#ga9e41d7249a4e931e254bc9f1d38f31d6">firmware_update_configurations_read</a>(&amp;p_data);</div>
<div class="line">   <span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="../../d7/d86/group__firmware__update__config.html#gga3c090c80e3e49b7cdeff014206874cbfa64488f27a876c3284ff08d4bb2be1322">FIRM_UPDT_CONF_EC_NO_DATA</a>)</div>
<div class="line">   {</div>
<div class="line">    printf(<span class="stringliteral">&#39;There is currently no data written into the Firmware Update Configurations sub-module.\r\n&#39;</span>);</div>
<div class="line">   }</div>
<div class="line">   <span class="keywordflow">else</span></div>
<div class="line">   {</div>
<div class="line">    printf(<span class="stringliteral">&quot;The data that was read from the Firmware Update Configurations sub-module is the following:\r\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Bootloader Firmware size = %d\r\n&quot;</span>, p_data.<a class="code hl_variable" href="../../d7/d98/structfirmware__update__config__data__t.html#a06fb1d74a2c32b7899a246fba90a16c8">BL_fw_size</a>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Bootloader Firmware recorded 32-bit CRC = %d\r\n&quot;</span>, p_data.<a class="code hl_variable" href="../../d7/d98/structfirmware__update__config__data__t.html#ad25006aadd381274af3fedea1a3b3c3d">BL_fw_rec_crc</a>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Application Firmware size = %d\r\n&quot;</span>, p_data.<a class="code hl_variable" href="../../d7/d98/structfirmware__update__config__data__t.html#aff9498aa5ef46c2ba2b0f1b4ab93fb3f">App_fw_size</a>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Application Firmware recorded 32-bit CRC = %d\r\n&quot;</span>, p_data.<a class="code hl_variable" href="../../d7/d98/structfirmware__update__config__data__t.html#a6c955b397512f0681d0d094579d1ec6a">App_fw_rec_crc</a>);</div>
<div class="line">   }</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// We write a new data block to the Flash Memory designated to the Firmware Update Configurations sub-module. This can be done as many times as desired during the lifetime of the program.</span></div>
<div class="line">   <span class="comment">// NOTE: If you only want to write a few couple of fields of the &quot;firmware_update_config_data_t structure, then make sure to first read the latest data written into the Firmware Update Configurations sub-module before writing something into it so that you don&#39;t overwrite the other data with something else.</span></div>
<div class="line">   p_data.<a class="code hl_variable" href="../../d7/d98/structfirmware__update__config__data__t.html#aff9498aa5ef46c2ba2b0f1b4ab93fb3f">App_fw_size</a> = 10240; <span class="comment">// This is a fake value, for demonstration purposes only.</span></div>
<div class="line">   p_data.<a class="code hl_variable" href="../../d7/d98/structfirmware__update__config__data__t.html#a6c955b397512f0681d0d094579d1ec6a">App_fw_rec_crc</a> = 0x45AB68B3; <span class="comment">// This is a fake value, for demonstration purposes only.</span></div>
<div class="line">   ret = <a class="code hl_function" href="../../d7/d86/group__firmware__update__config.html#ga042c791006d809c4e74751c61c6b3eb6">firmware_update_configurations_write</a>(&amp;p_data);</div>
<div class="line">   <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../d7/d86/group__firmware__update__config.html#gga3c090c80e3e49b7cdeff014206874cbfa8a0d939625e2c0f207aee3ca2cfb3ac8">FIRM_UPDT_CONF_EC_OK</a>)</div>
<div class="line">   {</div>
<div class="line">    printf(<span class="stringliteral">&quot;ERROR CODE %d: The data was not written into the Firmware Update Configurations sub-module.\r\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">   }</div>
<div class="line"> </div>
<div class="line">   printf(<span class="stringliteral">&quot;The data was successfully written into the Firmware Update Configurations sub-module.\r\n&quot;</span>);</div>
<div class="line">   <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="afirmware__update__config_8h_html"><div class="ttname"><a href="../../d7/d21/firmware__update__config_8h.html">firmware_update_config.h</a></div><div class="ttdoc">Header file used by the ETX OTA Protocol to store Firmware Update Configurations in Flash Memory.</div></div>
<div class="ttc" id="agroup__firmware__update__config_html_ga042c791006d809c4e74751c61c6b3eb6"><div class="ttname"><a href="../../d7/d86/group__firmware__update__config.html#ga042c791006d809c4e74751c61c6b3eb6">firmware_update_configurations_write</a></div><div class="ttdeci">FirmUpdConf_Status firmware_update_configurations_write(firmware_update_config_data_t *p_data)</div><div class="ttdoc">Writes a desired Firmware Update Configurations block data into the designated Flash Memory pages of ...</div><div class="ttdef"><b>Definition</b> firmware_update_config.c:229</div></div>
<div class="ttc" id="agroup__firmware__update__config_html_ga3c090c80e3e49b7cdeff014206874cbf"><div class="ttname"><a href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a></div><div class="ttdeci">FirmUpdConf_Status</div><div class="ttdoc">Firmware Update Configurations Exception Codes.</div><div class="ttdef"><b>Definition</b> firmware_update_config.h:115</div></div>
<div class="ttc" id="agroup__firmware__update__config_html_ga9e41d7249a4e931e254bc9f1d38f31d6"><div class="ttname"><a href="../../d7/d86/group__firmware__update__config.html#ga9e41d7249a4e931e254bc9f1d38f31d6">firmware_update_configurations_read</a></div><div class="ttdeci">FirmUpdConf_Status firmware_update_configurations_read(firmware_update_config_data_t *p_data)</div><div class="ttdoc">Gets the latest Firmware Update Configurations data that has been written into the designated Flash M...</div><div class="ttdef"><b>Definition</b> firmware_update_config.c:215</div></div>
<div class="ttc" id="agroup__firmware__update__config_html_gab021a0e06bed18957df92a4d4c17853e"><div class="ttname"><a href="../../d7/d86/group__firmware__update__config.html#gab021a0e06bed18957df92a4d4c17853e">firmware_update_configurations_init</a></div><div class="ttdeci">FirmUpdConf_Status firmware_update_configurations_init()</div><div class="ttdoc">Cycles through the Flash Memory pages that have been designated to the Firmware Update Configurations...</div><div class="ttdef"><b>Definition</b> firmware_update_config.c:138</div></div>
<div class="ttc" id="agroup__firmware__update__config_html_gga3c090c80e3e49b7cdeff014206874cbfa64488f27a876c3284ff08d4bb2be1322"><div class="ttname"><a href="../../d7/d86/group__firmware__update__config.html#gga3c090c80e3e49b7cdeff014206874cbfa64488f27a876c3284ff08d4bb2be1322">FIRM_UPDT_CONF_EC_NO_DATA</a></div><div class="ttdeci">@ FIRM_UPDT_CONF_EC_NO_DATA</div><div class="ttdoc">Firmware Update Configurations Read Process could not be made because there is currently no existing ...</div><div class="ttdef"><b>Definition</b> firmware_update_config.h:120</div></div>
<div class="ttc" id="agroup__firmware__update__config_html_gga3c090c80e3e49b7cdeff014206874cbfa8a0d939625e2c0f207aee3ca2cfb3ac8"><div class="ttname"><a href="../../d7/d86/group__firmware__update__config.html#gga3c090c80e3e49b7cdeff014206874cbfa8a0d939625e2c0f207aee3ca2cfb3ac8">FIRM_UPDT_CONF_EC_OK</a></div><div class="ttdeci">@ FIRM_UPDT_CONF_EC_OK</div><div class="ttdoc">Firmware Update Configurations Process was successful.</div><div class="ttdef"><b>Definition</b> firmware_update_config.h:116</div></div>
<div class="ttc" id="agroup__main_html_ga840291bc02cba5474a4cb46a9b9566fe"><div class="ttname"><a href="../../d3/dab/group__main.html#ga840291bc02cba5474a4cb46a9b9566fe">main</a></div><div class="ttdeci">int main(void)</div><div class="ttdoc">The application entry point.</div><div class="ttdef"><b>Definition</b> main.c:333</div></div>
<div class="ttc" id="astructfirmware__update__config__data__t_html"><div class="ttname"><a href="../../d7/d98/structfirmware__update__config__data__t.html">firmware_update_config_data_t</a></div><div class="ttdoc">Firmware Update Configurations Data parameters structure. This contains all the fields of the data th...</div><div class="ttdef"><b>Definition</b> firmware_update_config.h:155</div></div>
<div class="ttc" id="astructfirmware__update__config__data__t_html_a06fb1d74a2c32b7899a246fba90a16c8"><div class="ttname"><a href="../../d7/d98/structfirmware__update__config__data__t.html#a06fb1d74a2c32b7899a246fba90a16c8">firmware_update_config_data_t::BL_fw_size</a></div><div class="ttdeci">uint32_t BL_fw_size</div><div class="ttdoc">Size in bytes of the Bootloader Firmware Image currently being run by our MCU/MPU.</div><div class="ttdef"><b>Definition</b> firmware_update_config.h:156</div></div>
<div class="ttc" id="astructfirmware__update__config__data__t_html_a6c955b397512f0681d0d094579d1ec6a"><div class="ttname"><a href="../../d7/d98/structfirmware__update__config__data__t.html#a6c955b397512f0681d0d094579d1ec6a">firmware_update_config_data_t::App_fw_rec_crc</a></div><div class="ttdeci">uint32_t App_fw_rec_crc</div><div class="ttdoc">Recorded CRC of the Application Firmware Image currently being run by our MCU/MPU.</div><div class="ttdef"><b>Definition</b> firmware_update_config.h:159</div></div>
<div class="ttc" id="astructfirmware__update__config__data__t_html_ad25006aadd381274af3fedea1a3b3c3d"><div class="ttname"><a href="../../d7/d98/structfirmware__update__config__data__t.html#ad25006aadd381274af3fedea1a3b3c3d">firmware_update_config_data_t::BL_fw_rec_crc</a></div><div class="ttdeci">uint32_t BL_fw_rec_crc</div><div class="ttdoc">Recorded CRC of the Bootloader Firmware Image currently being run by our MCU/MPU.</div><div class="ttdef"><b>Definition</b> firmware_update_config.h:157</div></div>
<div class="ttc" id="astructfirmware__update__config__data__t_html_aff9498aa5ef46c2ba2b0f1b4ab93fb3f"><div class="ttname"><a href="../../d7/d98/structfirmware__update__config__data__t.html#aff9498aa5ef46c2ba2b0f1b4ab93fb3f">firmware_update_config_data_t::App_fw_size</a></div><div class="ttdeci">uint32_t App_fw_size</div><div class="ttdoc">Size in bytes of the Application Firmware Image currently being run by our MCU/MPU.</div><div class="ttdef"><b>Definition</b> firmware_update_config.h:158</div></div>
</div><!-- fragment --><dl class="section author"><dt>Author</dt><dd>Cesar Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>November 14, 2023. </dd>
<dd>
LAST UPDATE: February 07, 2024. </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gad8e36314fceab25cba80fb8acd59b689" name="gad8e36314fceab25cba80fb8acd59b689"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad8e36314fceab25cba80fb8acd59b689">&#9670;&#160;</a></span>FIRMWARE_UPDATE_CONFIG_END_ADDR_PLUS_ONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FIRMWARE_UPDATE_CONFIG_END_ADDR_PLUS_ONE&#160;&#160;&#160;(<a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3daabec824c8cbc5db48a7e0a3a321d0">FIRMWARE_UPDATE_CONFIG_PAGE_2_START_ADDR</a> + FW_UPDT_CONFIG_PAGE_SIZE)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flash Memory address at which the start of the first page after the ones designated for the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> begins. </p>
<p>For more information see <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3daabec824c8cbc5db48a7e0a3a321d0">FIRMWARE_UPDATE_CONFIG_PAGE_2_START_ADDR</a> . </p>

</div>
</div>
<a id="gaa77d3c529c695bcd64683433db38559a" name="gaa77d3c529c695bcd64683433db38559a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa77d3c529c695bcd64683433db38559a">&#9670;&#160;</a></span>FIRMWARE_UPDATE_CONFIG_PAGE_1_START_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FIRMWARE_UPDATE_CONFIG_PAGE_1_START_ADDR&#160;&#160;&#160;(FIRMWARE_UPDATE_CONFIG_START_PAGE * FW_UPDT_CONFIG_PAGE_SIZE/2 + FLASH_START_ADDR)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Designated Flash Memory address for the start of the Firmware Update Configurations page 1. </p>
<p>The start of Firmware Update Configurations page 1 should be 0x0801'E000. This is because the designated Flash Memory page for the Firmware Update Configurations page 1 is 120 (see FIRMWARE_UPDATE_CONFIG_START_PAGE )</p>
<p>Also, the length of the Firmware Update Configurations page 1 is 2048 bytes </p><dl class="section note"><dt>Note</dt><dd>Although each Flash Memory Page in the medium-density STM32 devices have a length of 1024 bytes, the minimum that can be erased is to two pages, i.e., 2048 bytes. </dd></dl>

</div>
</div>
<a id="ga3daabec824c8cbc5db48a7e0a3a321d0" name="ga3daabec824c8cbc5db48a7e0a3a321d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3daabec824c8cbc5db48a7e0a3a321d0">&#9670;&#160;</a></span>FIRMWARE_UPDATE_CONFIG_PAGE_2_START_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FIRMWARE_UPDATE_CONFIG_PAGE_2_START_ADDR&#160;&#160;&#160;(<a class="el" href="../../d7/d86/group__firmware__update__config.html#gaa77d3c529c695bcd64683433db38559a">FIRMWARE_UPDATE_CONFIG_PAGE_1_START_ADDR</a> + FW_UPDT_CONFIG_PAGE_SIZE)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Designated Flash Memory address for the start of Firmware Update Configurations page 2. </p>
<p>The start of Firmware Update Configurations page 2 should be 0x0801'E800. This is because the start of Firmware Update Configurations page 1 is address is 0x0801'E000 (see <a class="el" href="../../d7/d86/group__firmware__update__config.html#gaa77d3c529c695bcd64683433db38559a">FIRMWARE_UPDATE_CONFIG_PAGE_1_START_ADDR</a> ) and the size of the Firmware Update Configurations page 1 length of 2048 bytes. </p>

</div>
</div>
<a id="ga34381b2d22c49d3df8dabd57207699a3" name="ga34381b2d22c49d3df8dabd57207699a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga34381b2d22c49d3df8dabd57207699a3">&#9670;&#160;</a></span>FIRMWARE_UPDATE_CONFIG_START_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FIRMWARE_UPDATE_CONFIG_START_ADDR&#160;&#160;&#160;(<a class="el" href="../../d7/d86/group__firmware__update__config.html#gaa77d3c529c695bcd64683433db38559a">FIRMWARE_UPDATE_CONFIG_PAGE_1_START_ADDR</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Designated start Flash Memory address for the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> . </p>
<p>For more information see <a class="el" href="../../d7/d86/group__firmware__update__config.html#gaa77d3c529c695bcd64683433db38559a">FIRMWARE_UPDATE_CONFIG_PAGE_1_START_ADDR</a> . </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga3c090c80e3e49b7cdeff014206874cbf" name="ga3c090c80e3e49b7cdeff014206874cbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3c090c80e3e49b7cdeff014206874cbf">&#9670;&#160;</a></span>FirmUpdConf_Status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Firmware Update Configurations Exception Codes. </p>
<p>These Exception Codes are returned by the functions of the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> sub-module to indicate the resulting status of having executed the process contained in each of those functions (e.g., to indicate that the process executed by a certain function was successful or that it has failed). </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga3c090c80e3e49b7cdeff014206874cbfa8a0d939625e2c0f207aee3ca2cfb3ac8" name="gga3c090c80e3e49b7cdeff014206874cbfa8a0d939625e2c0f207aee3ca2cfb3ac8"></a>FIRM_UPDT_CONF_EC_OK&#160;</td><td class="fielddoc"><p>Firmware Update Configurations Process was successful. </p>
<dl class="section note"><dt>Note</dt><dd>The code from the <a class="el" href="../../dd/dff/group__bl__side__etx__ota.html#ga40532f22429bfc92c49206cb31f63b83">HAL_ret_handler</a> function contemplates that this value will match the one given for <code>HAL_OK</code> from HAL_StatusTypeDef . </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="gga3c090c80e3e49b7cdeff014206874cbfa2294ca4263545942eb6b6a18f0316399" name="gga3c090c80e3e49b7cdeff014206874cbfa2294ca4263545942eb6b6a18f0316399"></a>FIRM_UPDT_CONF_EC_NR&#160;</td><td class="fielddoc"><p>Firmware Update Configurations Process has concluded with no response from HAL when requesting it to erase a certain page. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga3c090c80e3e49b7cdeff014206874cbfa72de2f060039a37d2686554afc5fa9ed" name="gga3c090c80e3e49b7cdeff014206874cbfa72de2f060039a37d2686554afc5fa9ed"></a>FIRM_UPDT_CONF_EC_ERR&#160;</td><td class="fielddoc"><p>Firmware Update Configurations Process has failed. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga3c090c80e3e49b7cdeff014206874cbfa6e2fd6cd509ee5afd15c84c22bffd9e7" name="gga3c090c80e3e49b7cdeff014206874cbfa6e2fd6cd509ee5afd15c84c22bffd9e7"></a>FIRM_UPDT_CONF_EC_CRPT&#160;</td><td class="fielddoc"><p>Firmware Update Configurations Flash Memory's Block value that was read has been identified to be corrupted. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga3c090c80e3e49b7cdeff014206874cbfa64488f27a876c3284ff08d4bb2be1322" name="gga3c090c80e3e49b7cdeff014206874cbfa64488f27a876c3284ff08d4bb2be1322"></a>FIRM_UPDT_CONF_EC_NO_DATA&#160;</td><td class="fielddoc"><p>Firmware Update Configurations Read Process could not be made because there is currently no existing data in the designated Flash Memory pages. </p>
</td></tr>
</table>

</div>
</div>
<a id="gae154fb36b367f3a64edf3115cce644f1" name="gae154fb36b367f3a64edf3115cce644f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae154fb36b367f3a64edf3115cce644f1">&#9670;&#160;</a></span>IsBlFwPending_Status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d7/d86/group__firmware__update__config.html#gae154fb36b367f3a64edf3115cce644f1">IsBlFwPending_Status</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is Bootloader Firmware Install Pending Status. </p>
<p>These definitions define the available states of a "Is Bootloader Firmware Install Pending" status. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggae154fb36b367f3a64edf3115cce644f1a040640f8c62c6c21aaf6a484af39dad7" name="ggae154fb36b367f3a64edf3115cce644f1a040640f8c62c6c21aaf6a484af39dad7"></a>NOT_PENDING&#160;</td><td class="fielddoc"><p>Bootloader Firmware Install is not pending to be made. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae154fb36b367f3a64edf3115cce644f1a04c28260a0edeab076dd1e3404df0cc6" name="ggae154fb36b367f3a64edf3115cce644f1a04c28260a0edeab076dd1e3404df0cc6"></a>IS_PENDING&#160;</td><td class="fielddoc"><p>Bootloader Firmware Install is pending to be made. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga89e37f881d023e13ae515fd2c98315cd" name="ga89e37f881d023e13ae515fd2c98315cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga89e37f881d023e13ae515fd2c98315cd">&#9670;&#160;</a></span>IsBlFwStoredInAppFw_Status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga89e37f881d023e13ae515fd2c98315cd">IsBlFwStoredInAppFw_Status</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is Bootloader Firmware Image Stored in Application Firmware Image Status. </p>
<p>These definitions define the available states of a "Is Bootloader Firmware Image Stored in Application
         Firmware Image" status. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga89e37f881d023e13ae515fd2c98315cdaccfa1f7f6152d025601ebad5aa8ca9b1" name="gga89e37f881d023e13ae515fd2c98315cdaccfa1f7f6152d025601ebad5aa8ca9b1"></a>BT_FW_NOT_STORED_IN_APP_FW&#160;</td><td class="fielddoc"><p>Bootloader Firmware Image is not stored in the Flash Memory designated for the Application Firmware Image. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga89e37f881d023e13ae515fd2c98315cdae4a8ea76658cc5c7ea5ffc6e50f81f1c" name="gga89e37f881d023e13ae515fd2c98315cdae4a8ea76658cc5c7ea5ffc6e50f81f1c"></a>BT_FW_STORED_IN_APP_FW&#160;</td><td class="fielddoc"><p>Bootloader Firmware Image is stored in the Flash Memory designated for the Application Firmware Image. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab021a0e06bed18957df92a4d4c17853e" name="gab021a0e06bed18957df92a4d4c17853e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab021a0e06bed18957df92a4d4c17853e">&#9670;&#160;</a></span>firmware_update_configurations_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> firmware_update_configurations_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cycles through the Flash Memory pages that have been designated to the Firmware Update Configurations until a Firmware Update Configurations Block is found to have been erased. Subsequently, it identifies the page number of the Firmware Update Configurations that should be erased next and then requests to erase it but only in the case that erasing a page from it is required right now. </p>
<dl class="section note"><dt>Note</dt><dd>This function has to be called first before starting to use the <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga9e41d7249a4e931e254bc9f1d38f31d6">firmware_update_configurations_read</a> and <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga042c791006d809c4e74751c61c6b3eb6">firmware_update_configurations_write</a> functions so that the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> works as expected. </dd>
<dd>
During the execution of this function, The Flash Memory address of the Firmware Update Configurations Block containing the most recently written Firmware Update Configurations value will be pointed to it via the static global struct <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga4493d909e38c669637923c7d138c5164">p_most_recent_val</a> .</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_OK</td><td></td></tr>
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_NR</td><td></td></tr>
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_ERR</td><td></td></tr>
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_CRPT</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>César Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>September 26, 2023. </dd>
<dd>
LAST UPDATE: February 07, 2024. </dd></dl>
<p><b>Local variable ret:</b> Used to hold the exception code value returned by a <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> function.</p>
<p><b>Local variable cal_crc:</b> Value holder for the calculated 32-bit CRC of the Data Block to which the <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga4493d909e38c669637923c7d138c5164">p_most_recent_val</a> pointer points to.</p>
<p><b>Local variable p_next_val:</b> Firmware Update Configurations Block pointer that should point to the Firmware Update Configurations Block located right after the one with the most recently written value (i.e., right after the Data Block to which the <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga4493d909e38c669637923c7d138c5164">p_most_recent_val</a> pointer points to).</p>

</div>
</div>
<a id="ga9e41d7249a4e931e254bc9f1d38f31d6" name="ga9e41d7249a4e931e254bc9f1d38f31d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9e41d7249a4e931e254bc9f1d38f31d6">&#9670;&#160;</a></span>firmware_update_configurations_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> firmware_update_configurations_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d98/structfirmware__update__config__data__t.html">firmware_update_config_data_t</a> *&#160;</td>
          <td class="paramname"><em>p_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the latest Firmware Update Configurations data that has been written into the designated Flash Memory pages of the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> sub-module. </p>
<p>The latest data will be written into the field values of the structure at which the <code>p_data</code> param points to. However, in the case that there is currently no data in the designated Flash Memory pages of the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> , then the data returned will be that of the <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga34381b2d22c49d3df8dabd57207699a3">FIRMWARE_UPDATE_CONFIG_START_ADDR</a> address, which should have all its bits set to their reset state (i.e., to 1s) in the case that there really is no data in this sub-module.</p>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="../../d7/d86/group__firmware__update__config.html#gab021a0e06bed18957df92a4d4c17853e">firmware_update_configurations_init</a> function has to be called first before starting to use the <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga9e41d7249a4e931e254bc9f1d38f31d6">firmware_update_configurations_read</a> function so that this sub-module works as expected.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">p_data</td><td>Pointer to the memory address at which a copy of the latest data that will be written into.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_OK</td><td></td></tr>
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_NO_DATA</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>César Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>October 13, 2023. </dd>
<dd>
LAST UPDATE: February 07, 2024. </dd></dl>

</div>
</div>
<a id="ga042c791006d809c4e74751c61c6b3eb6" name="ga042c791006d809c4e74751c61c6b3eb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga042c791006d809c4e74751c61c6b3eb6">&#9670;&#160;</a></span>firmware_update_configurations_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> firmware_update_configurations_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d98/structfirmware__update__config__data__t.html">firmware_update_config_data_t</a> *&#160;</td>
          <td class="paramname"><em>p_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a desired Firmware Update Configurations block data into the designated Flash Memory pages of the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> sub-module. </p>
<p>After writing the desired data into the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> , this function will call the <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga393111d202f08801e2b3bcc81fc2b045">prep_page_swap</a> function to identify if there is a Flash Page of this sub-module full of data and if we are already writing into the next one, where if this is true, then the data of the Flash Page full of data will be erased.</p>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="../../d7/d86/group__firmware__update__config.html#gab021a0e06bed18957df92a4d4c17853e">firmware_update_configurations_init</a> function has to be called first before starting to use the <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga042c791006d809c4e74751c61c6b3eb6">firmware_update_configurations_write</a> function so that this sub-module works as expected.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_data</td><td>Pointer to the desired data that we want to write into the designated Flash Memory pages of the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> .</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The reserved bits, of the data that the <code>param</code> points to, will be set to 1 after calling this function.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_OK</td><td></td></tr>
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_NR</td><td></td></tr>
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_ERR</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>César Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>October 13, 2023. </dd>
<dd>
LAST UPDATE: February 07, 2024. </dd></dl>
<p><b>Local variable ret:</b> uint8_t Type variable used to hold the return value of either a HAL_StatusTypeDef or a <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> function.</p>
<p><b>Local variable new_val_struct:</b> New Data Block into which we will pass the data that wants to be written and where we will also set the corresponding flag and CRC32 values for it.</p>
<p><b>Local pointer p_new_val_struct:</b> Pointer to the <code>new_val_struct</code> data but in <code>uint32_t</code> Type.</p>
<p><b>Local pointer p_next_val:</b> <a class="el" href="../../df/d8a/structfirmware__update__config__t.html">firmware_update_config_t</a> Type Pointer that will point towards the address of the next available data block of the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> .</p>
<p><b>Local pointer p_next_val_in_words:</b> 32-bits Type Pointer that will point towards the address of the next available data block of the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> .</p>

</div>
</div>
<a id="ga0b71ba3eaef4150dbdeb879583392f34" name="ga0b71ba3eaef4150dbdeb879583392f34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b71ba3eaef4150dbdeb879583392f34">&#9670;&#160;</a></span>HAL_ret_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> HAL_ret_handler </td>
          <td>(</td>
          <td class="paramtype">HAL_StatusTypeDef&#160;</td>
          <td class="paramname"><em>HAL_status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the corresponding <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> value depending on the given HAL_StatusTypeDef value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">HAL_status</td><td>HAL Status value (see HAL_StatusTypeDef ) that wants to be converted into its equivalent of a <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_NR</td><td>if <code>HAL_status</code> param equals <code>HAL_BUSY</code> or <code>HAL_TIMEOUT</code> . </td></tr>
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_ERR</td><td>if <code>HAL_status</code> param equals <code>HAL_ERROR</code> . </td></tr>
    <tr><td class="paramname">HAL_status</td><td>otherwise.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>For more details on the returned values listed, see <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> and HAL_StatusTypeDef .</dd></dl>
<dl class="section author"><dt>Author</dt><dd>César Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>September 26, 2023. </dd></dl>

</div>
</div>
<a id="ga917ec3add16d4ceaa7ed8dec5bdb6ca4" name="ga917ec3add16d4ceaa7ed8dec5bdb6ca4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga917ec3add16d4ceaa7ed8dec5bdb6ca4">&#9670;&#160;</a></span>page_erase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> page_erase </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>page_start_addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Erases a desired Flash Memory page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_start_addr</td><td>Pointer to the Flash Memory start address of the page that is desired to be erased.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>For some reason that it is not explained in the STMicroelectronics documentation, whenever you request to erase 1 Flash Memory Page to our MCU/MPU's Hardware (which is the minimum that you can request to erase, i.e., you cannot request to erase 0 pages and 1 is the minimum accepted), 2 Flash Memory Pages are erased instead of 1, which leaves us to the restriction of only being able to erase a minimum of 2 Flash Memory Pages and not 1. However, if you request to erase several Flash Memory Pages, then our MCU/MPU's Hardware will only delete the exact number of Flash Memory Pages.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_OK</td><td></td></tr>
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_NR</td><td></td></tr>
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_ERR</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>For more details, see <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> .</dd></dl>
<dl class="section author"><dt>Author</dt><dd>César Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>October 13, 2023. </dd>
<dd>
LAST UPDATE: February 07, 2024. </dd></dl>
<p><b>Local variable ret:</b> uin8_t Type variable used to hold the return value of either a <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> or a HAL_StatusTypeDef function.</p>

</div>
</div>
<a id="ga393111d202f08801e2b3bcc81fc2b045" name="ga393111d202f08801e2b3bcc81fc2b045"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga393111d202f08801e2b3bcc81fc2b045">&#9670;&#160;</a></span>prep_page_swap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> prep_page_swap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Identifies if there is a Firmware Update Configurations page that is currently fully occupied with data while having already written data into the other page, such that if that is the case, then an instruction for erasing the Firmware Update Configurations page that is full will be send. Otherwise, this function does nothing. </p>
<dl class="section note"><dt>Note</dt><dd>This function sends the instruction of deleting a certain Firmware Update Configurations page number via the <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga917ec3add16d4ceaa7ed8dec5bdb6ca4">page_erase</a> function. </dd>
<dd>
See <a class="el" href="../../d7/d86/group__firmware__update__config.html#gaa77d3c529c695bcd64683433db38559a">FIRMWARE_UPDATE_CONFIG_PAGE_1_START_ADDR</a> and <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3daabec824c8cbc5db48a7e0a3a321d0">FIRMWARE_UPDATE_CONFIG_PAGE_2_START_ADDR</a> to be able to correctly differentiate a Firmware Update Configurations page from a Flash Memory Page.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_OK</td><td></td></tr>
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_NR</td><td></td></tr>
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_ERR</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>For more details, see <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> .</dd></dl>
<dl class="section author"><dt>Author</dt><dd>César Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>September 26, 2023. </dd>
<dd>
LAST UPDATE: February 07, 2024. </dd></dl>
<p><b>Local variable ret:</b> <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> Type variable used to hold the return value of a <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> function.</p>

</div>
</div>
<a id="ga9120a0a92e4d9a85f59ef9494f268686" name="ga9120a0a92e4d9a85f59ef9494f268686"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9120a0a92e4d9a85f59ef9494f268686">&#9670;&#160;</a></span>restore_firm_updt_config_flash_memory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> restore_firm_updt_config_flash_memory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Erases all the designated Flash Memory pages of the <a class="el" href="../../d7/d86/group__firmware__update__config.html">Firmware Update Configurations sub-module</a> sub-module to restore them to their original factory form. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_OK</td><td></td></tr>
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_NR</td><td></td></tr>
    <tr><td class="paramname">FIRM_UPDT_CONF_EC_ERR</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>For more details, see <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> .</dd></dl>
<dl class="section author"><dt>Author</dt><dd>César Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>September 26, 2023. </dd>
<dd>
LAST UPDATE: February 07, 2024. </dd></dl>
<p><b>Local variable ret:</b> Return value of a <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga3c090c80e3e49b7cdeff014206874cbf">FirmUpdConf_Status</a> function.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga4493d909e38c669637923c7d138c5164" name="ga4493d909e38c669637923c7d138c5164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4493d909e38c669637923c7d138c5164">&#9670;&#160;</a></span>p_most_recent_val</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d8a/structfirmware__update__config__t.html">firmware_update_config_t</a>* p_most_recent_val = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the Firmware Update Configurations Block containing the most recently written Firmware Update Configurations value. </p>
<p>The valid Flash Memory addresses for this variable are: <a class="el" href="../../d7/d86/group__firmware__update__config.html#ga34381b2d22c49d3df8dabd57207699a3">FIRMWARE_UPDATE_CONFIG_START_ADDR</a> \(\leq validFlashMemoryAddresses &lt;\) <a class="el" href="../../d7/d86/group__firmware__update__config.html#gad8e36314fceab25cba80fb8acd59b689">FIRMWARE_UPDATE_CONFIG_END_ADDR_PLUS_ONE</a> .</p>
<p>If this variable has its pointer to <code>NULL</code> , then this will mean that there is currently no data in the Firmware Update Configuration's designated Flash Memory pages. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
