<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UART PcTool API: An ETX OTA Firmware Update API for hosts.: ETX_OTA_Data_Packet_t Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">UART PcTool API: An ETX OTA Firmware Update API for hosts.
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">ETX_OTA_Data_Packet_t Struct Reference<div class="ingroups"><a class="el" href="../../de/db1/group__etx__ota__protocol__host.html">ETX OTA Protocol Library for host machines</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>ETX OTA Data Type Packet's parameters structure.  
 <a href="../../d2/d7c/struct_e_t_x___o_t_a___data___packet__t.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:aa7358312bb244d8b0243efa3730fc74c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7c/struct_e_t_x___o_t_a___data___packet__t.html#aa7358312bb244d8b0243efa3730fc74c">sof</a></td></tr>
<tr class="memdesc:aa7358312bb244d8b0243efa3730fc74c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start of Frame (SOF).  <br /></td></tr>
<tr class="separator:aa7358312bb244d8b0243efa3730fc74c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21758b8c4675ed6c3ca4b79f14de8d40"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7c/struct_e_t_x___o_t_a___data___packet__t.html#a21758b8c4675ed6c3ca4b79f14de8d40">packet_type</a></td></tr>
<tr class="memdesc:a21758b8c4675ed6c3ca4b79f14de8d40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packet Type.  <br /></td></tr>
<tr class="separator:a21758b8c4675ed6c3ca4b79f14de8d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfecc97b0f0b0b3592736da4ad7f068e"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7c/struct_e_t_x___o_t_a___data___packet__t.html#adfecc97b0f0b0b3592736da4ad7f068e">data_len</a></td></tr>
<tr class="memdesc:adfecc97b0f0b0b3592736da4ad7f068e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length of the actual "Data" field contained inside the <code>data</code> parameter in bytes (i.e., This does not take into account the "CRC32" and "EOF" fields length).  <br /></td></tr>
<tr class="separator:adfecc97b0f0b0b3592736da4ad7f068e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80be3e8dbe822266ecab82ae85e591eb"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7c/struct_e_t_x___o_t_a___data___packet__t.html#a80be3e8dbe822266ecab82ae85e591eb">data</a></td></tr>
<tr class="memdesc:a80be3e8dbe822266ecab82ae85e591eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Paylaod data, 32-bit CRC and EOF.  <br /></td></tr>
<tr class="separator:a80be3e8dbe822266ecab82ae85e591eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>ETX OTA Data Type Packet's parameters structure. </p>
<p>This structure contains all the fields of an ETX OTA Packet of <a class="el" href="../../de/db1/group__etx__ota__protocol__host.html#gga0672978a92ce1172cf098a45454e29beaf25675177d37f7c5e628a73abc5cf704">ETX_OTA_STATE_DATA</a> Type.</p>
<p>The following illustrates the ETX OTA format of this Type of Packets:</p>
<table style="border-collapse:collapse;border-spacing:0;background-color:#ffffff;text-align:center;vertical-align:top;">
<tr>
<th style="border-color:black;border-style:solid;border-width:1px">SOF </th><th style="border-color:black;border-style:solid;border-width:1px">Packet<br  />
Type </th><th style="border-color:black;border-style:solid;border-width:1px">Len </th><th style="border-color:black;border-style:solid;border-width:1px">Payload Data </th><th style="border-color:black;border-style:solid;border-width:1px">CRC </th><th style="border-color:black;border-style:solid;border-width:1px">EOF    </th></tr>
<tr>
<td style="border-color:#ffffff">1B </td><td style="border-color:#ffffff">1B </td><td style="border-color:#ffffff">2B </td><td style="border-color:#ffffff"><a class="el" href="../../d2/d7c/struct_e_t_x___o_t_a___data___packet__t.html#adfecc97b0f0b0b3592736da4ad7f068e">data_len</a> B </td><td style="border-color:#ffffff">4B </td><td style="border-color:#ffffff">1B   </td></tr>
</table>
<p>where B = byte(s) and where the value of the "Payload Data" field must be perfectly divisible by 4 bytes.</p>
<dl class="section note"><dt>Note</dt><dd>The CRC is not within the fields of this structure because this structure was formulated in such a way that it could represent any possible ETX OTA Data Type Packet in consideration that they may vary in size and because it is desired to make it compatible with the General Data Format explained in firmware_update . Therefore, the strategy that has been applied in the firmware_update module is to append all the data contained in the <a class="el" href="../../d2/d7c/struct_e_t_x___o_t_a___data___packet__t.html#a80be3e8dbe822266ecab82ae85e591eb">data</a> field from all the received ETX OTA Data Type Packets within a single ETX OTA Process to then calculate the CRC of that whole data and validate it with the one received for that whole data via the <a class="el" href="../../da/d22/structheader__data__t.html#a1eb5c0b9c139c92ff439ee72862f3bf1">header_data_t::package_crc</a> field. </dd>
<dd>
Another consequence of what was just explained is that the EOF is also not within the fields of this structure but it is always validated at the end of each ETX OTA Data Type Packet received. </dd></dl>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a80be3e8dbe822266ecab82ae85e591eb" name="a80be3e8dbe822266ecab82ae85e591eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80be3e8dbe822266ecab82ae85e591eb">&#9670;&#160;</a></span>data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* ETX_OTA_Data_Packet_t::data</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Paylaod data, 32-bit CRC and EOF. </p>
<p>the Data bytes may have a length of 1 byte up to a maximum of <a class="el" href="../../de/db1/group__etx__ota__protocol__host.html#ga31ccfee7f30e5cac204d5402f215106a">ETX_OTA_DATA_MAX_SIZE</a> (i.e., 1024 bytes). Next to them, the 32-bit CRC will be appended and then the EOF byte will be appended subsequently.</p>
<p>The appended 32-bit CRC is calculated with respect to the Data bytes received in for this single/particular ETX OTA Data Type Packet (i.e., Not for the whole data previously explained). </p>

</div>
</div>
<a id="adfecc97b0f0b0b3592736da4ad7f068e" name="adfecc97b0f0b0b3592736da4ad7f068e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfecc97b0f0b0b3592736da4ad7f068e">&#9670;&#160;</a></span>data_len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ETX_OTA_Data_Packet_t::data_len</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Length of the actual "Data" field contained inside the <code>data</code> parameter in bytes (i.e., This does not take into account the "CRC32" and "EOF" fields length). </p>
<dl class="section note"><dt>Note</dt><dd>This length is defined by the host, but its maximum value can be <a class="el" href="../../de/db1/group__etx__ota__protocol__host.html#ga31ccfee7f30e5cac204d5402f215106a">ETX_OTA_DATA_MAX_SIZE</a> (i.e., 1024 bytes). </dd></dl>

</div>
</div>
<a id="a21758b8c4675ed6c3ca4b79f14de8d40" name="a21758b8c4675ed6c3ca4b79f14de8d40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21758b8c4675ed6c3ca4b79f14de8d40">&#9670;&#160;</a></span>packet_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ETX_OTA_Data_Packet_t::packet_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Packet Type. </p>
<p>The value of this parameter must be <a class="el" href="../../de/db1/group__etx__ota__protocol__host.html#gga8e8167f08b64387b81e035b91437252ba5e87810e6fe913efcce32f05b84516df">ETX_OTA_PACKET_TYPE_DATA</a> because this is meant to be used for Data Type Packets. </p>

</div>
</div>
<a id="aa7358312bb244d8b0243efa3730fc74c" name="aa7358312bb244d8b0243efa3730fc74c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7358312bb244d8b0243efa3730fc74c">&#9670;&#160;</a></span>sof</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ETX_OTA_Data_Packet_t::sof</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start of Frame (SOF). </p>
<p>All ETX OTA Packets must start with a SOF byte, whose value is <a class="el" href="../../de/db1/group__etx__ota__protocol__host.html#ga578ab5347ebf2677f563566c7452dfa1">ETX_OTA_SOF</a> . </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>C:/Users/cmira/OneDrive/Escritorio/Bootloader Project v0.4/Host_App/HostBleApp/APIs/uartPcToolAPI/etx_ota_protocol_host.c</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
