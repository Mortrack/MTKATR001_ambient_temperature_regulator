<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HostBleApp: An ETX OTA Firmware Update UI for hosts.: BLE ETX OTA Protocol Concrete Product module</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HostBleApp: An ETX OTA Firmware Update UI for hosts.
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Packages</a> &#124;
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle"><div class="title">BLE ETX OTA Protocol Concrete Product module<div class="ingroups"><a class="el" href="../../d1/d3a/group___e_t_x___o_t_a___protocol___factory.html">ETX OTA Protocol Factory module</a> &raquo; <a class="el" href="../../de/da3/group___e_t_x___o_t_a___protocol___interface.html">ETX OTA Protocol Interface module</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>This module contains the variables and methods required to enable the application so that our host machine can initialize and send a desired Payload Data through the use of the ETX OTA Communication Protocol over the BLE Hardware Protocol to a desired slave device.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Packages</h2></td></tr>
<tr class="memitem:de/df0/namespacecom_1_1mortrack_1_1hostbleapp_1_1etxotaprotocol"><td class="memItemLeft" align="right" valign="top">package &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df0/namespacecom_1_1mortrack_1_1hostbleapp_1_1etxotaprotocol.html">com.mortrack.hostbleapp.etxotaprotocol</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4c/classcom_1_1mortrack_1_1hostbleapp_1_1etxotaprotocol_1_1_ble_etx_ota_protocol.html">com.mortrack.hostbleapp.etxotaprotocol.BleEtxOtaProtocol</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This Class provides several methods to enable the application with the capability of communicating and sending some desired Payload Data through the use of the ETX OTA Communication Protocol over the BLE Hardware Protocol.  <a href="../../d6/d4c/classcom_1_1mortrack_1_1hostbleapp_1_1etxotaprotocol_1_1_ble_etx_ota_protocol.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module contains the variables and methods required to enable the application so that our host machine can initialize and send a desired Payload Data through the use of the ETX OTA Communication Protocol over the BLE Hardware Protocol to a desired slave device. </p>
<p>The following gives a friendly code example of how to use <code><a class="el" href="../../d6/d4c/classcom_1_1mortrack_1_1hostbleapp_1_1etxotaprotocol_1_1_ble_etx_ota_protocol.html">com.mortrack.hostbleapp.etxotaprotocol.BleEtxOtaProtocol</a></code> Class: </p><div class="fragment"><div class="line"><span class="comment">// Send the Payload to the requested slave device with the requested Configurations and Hardware Protocol via the ETX OTA Protocol.</span></div>
<div class="line"><span class="keywordtype">short</span> txOtaRs232ComportNumber = 3; <span class="comment">// RS232 Comport from which the slave device is expected to be connected to.</span></div>
<div class="line">String payloadFilePath = <span class="stringliteral">&quot;C:\\Users\\cmira\\OneDrive\\Escritorio\\Bootloader Project v0.4\\Host_BLE_App\\HostBleApp\\APIs\\PcTool\\Application_Firmware.bin&quot;</span>; <span class="comment">// Windows O.S. Absolute File Path towards the Application Firmware Image that wants to be send to the desired slave device.</span></div>
<div class="line"><span class="keywordtype">short</span> etxOtaPayloadType = (short) com.mortrack.hostbleapp.etxotaprotocol.EtxOtaProtocolFactory.EtxOtaPayloadType.ETX_OTA_Application_Firmware_Image.getNumber(); <span class="comment">// = 0 because an Application Firmware Image Type is given.</span></div>
<div class="line"><span class="keywordtype">int</span> baudrate = 9600; <span class="comment">// Baud Rate at which it is desired that the Serial Port works with in order to communicate with the BLE Dongle Device.</span></div>
<div class="line">String slaveBtAddress = <span class="stringliteral">&quot;0017EA090909&quot;</span>; <span class="comment">// Bluetooth Address of the Remote Bluetooth Device with which we want our BLE Dongle Device to establish a Bluetooth Communication with.</span></div>
<div class="line"><span class="keywordtype">int</span> hm10ConnectToAddressTimeout = 3000000; <span class="comment">// HM-10 Connect To Address Timeout.</span></div>
<div class="line"><span class="keywordtype">int</span> etxOtaApiTimeout = 1800; <span class="comment">// = 30 ETX OTA API Timeout in minutes.</span></div>
<div class="line">EtxOtaProtocolFactory bleEtxOtaFact = <span class="keyword">new</span> BleEtxOtaProtocolFactory(txOtaRs232ComportNumber, baudrate, slaveBtAddress, hm10ConnectToAddressTimeout);</div>
<div class="line">EtxOtaProtocol etxOtaApi = bleEtxOtaFact.sendPayload(payloadFilePath, etxOtaPayloadType, etxOtaApiTimeout);</div>
<div class="line"><span class="keywordflow">if</span> (etxOtaApi.lastEtxOtaStatus() != com.mortrack.hostbleapp.etxotaprotocol.EtxOtaProtocolFactory.EtxOtaStatus.ETX_OTA_EC_OK) {</div>
<div class="line">    System.out.println(<span class="stringliteral">&quot;ETX OTA Exception Code = &quot;</span> + etxOtaApi.lastEtxOtaStatus().getNumber());</div>
<div class="line">    System.out.println(<span class="stringliteral">&quot;The requested Payload could not be sent to the slave device.&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> {</div>
<div class="line">    System.out.println(<span class="stringliteral">&quot;The requested Payload has been successfully sent to the slave device.&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section author"><dt>Author</dt><dd>Cesar Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>December 28, 2023. </dd></dl>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
